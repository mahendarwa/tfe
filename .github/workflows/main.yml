name: Test Azure Login

on:
  workflow_dispatch:

jobs:
  test-azure-login:
    runs-on: ubuntu-latest # You can use self-hosted if needed

    steps:
    - name: Azure Login
      run: |
        az login --service-principal \
          --username ${{ secrets.CRS_AZURE_CLIENT_ID_NONPROD }} \
          --password ${{ secrets.CRS_AZURE_CLIENT_SECRET_NONPROD }} \
          --tenant ${{ secrets.CRS_AZURE_TENANT_ID_NONPROD }}
        echo "Azure login successful"

    - name: Verify Login
      run: |
        az account show
